<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Precios - Canva & Cursos Digitales</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .plan-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }
        
        .plan-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .plan-card.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }
        
        .course-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .course-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .course-card:hover::before {
            left: 100%;
        }
        
        .course-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .course-card.selected {
            border: 3px solid #667eea;
            background: linear-gradient(135deg, #f8faff 0%, #e8f2ff 100%);
        }
        
        .combo-badge {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .price-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .floating-icon {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .payment-method {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .payment-method.active {
            border-color: #3b82f6 !important;
            background-color: #eff6ff !important;
        }
        
        .payment-processing {
            animation: processing 1.5s ease-in-out infinite;
        }
        
        @keyframes processing {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-12">
            <div class="floating-icon text-6xl mb-4">üé®</div>
            <h1 class="text-4xl md:text-6xl font-bold text-white mb-4">
                Canva & Cursos Digitales
            </h1>
            <p class="text-xl text-white/90 max-w-3xl mx-auto">
                Potencia tu creatividad con nuestros planes de Canva y cursos especializados
            </p>
        </div>

        <div class="max-w-7xl mx-auto">
            <!-- Canva Plans Section -->
            <div class="glass-card rounded-3xl p-8 mb-8">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-white mb-2">üìä Planes de Canva</h2>
                    <p class="text-white/80">Elige el plan perfecto para tus necesidades</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <!-- 1 Month Plan -->
                    <div class="plan-card bg-white rounded-2xl p-6 text-center" data-plan="1month" data-price="1" data-months="1">
                        <div class="text-4xl mb-4">‚ö°</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Plan Mensual</h3>
                        <div class="text-3xl font-bold text-purple-600 mb-2">$1</div>
                        <p class="text-gray-600 text-sm mb-4">1 mes de acceso</p>
                        <div class="bg-purple-100 text-purple-800 text-xs font-semibold px-3 py-1 rounded-full">
                            Ideal para probar
                        </div>
                    </div>

                    <!-- 3 Months Plan -->
                    <div class="plan-card bg-white rounded-2xl p-6 text-center" data-plan="3months" data-price="2" data-months="3">
                        <div class="text-4xl mb-4">üöÄ</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Plan Trimestral</h3>
                        <div class="text-3xl font-bold text-blue-600 mb-2">$2</div>
                        <p class="text-gray-600 text-sm mb-4">3 meses de acceso</p>
                        <div class="bg-blue-100 text-blue-800 text-xs font-semibold px-3 py-1 rounded-full">
                            M√°s popular
                        </div>
                    </div>

                    <!-- 6 Months Plan -->
                    <div class="plan-card bg-white rounded-2xl p-6 text-center" data-plan="6months" data-price="3.5" data-months="6">
                        <div class="text-4xl mb-4">üíé</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Plan Semestral</h3>
                        <div class="text-3xl font-bold text-green-600 mb-2">$3.5</div>
                        <p class="text-gray-600 text-sm mb-4">6 meses de acceso</p>
                        <div class="bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full">
                            Mejor valor
                        </div>
                    </div>

                    <!-- 1 Year Plan -->
                    <div class="plan-card bg-white rounded-2xl p-6 text-center" data-plan="1year" data-price="5" data-months="12">
                        <div class="text-4xl mb-4">üëë</div>
                        <h3 class="text-xl font-bold text-gray-800 mb-2">Plan Anual</h3>
                        <div class="text-3xl font-bold text-orange-600 mb-2">$5</div>
                        <p class="text-gray-600 text-sm mb-4">12 meses de acceso</p>
                        <div class="bg-orange-100 text-orange-800 text-xs font-semibold px-3 py-1 rounded-full">
                            M√°ximo ahorro
                        </div>
                    </div>
                </div>

                <!-- Combo Special Area -->
                <div class="bg-gradient-to-r from-orange-400 to-pink-500 rounded-2xl p-6 text-center text-white relative overflow-hidden">
                    <div class="combo-badge absolute top-4 right-4 text-white font-bold px-3 py-1 rounded-full text-sm">
                        ¬°OFERTA ESPECIAL!
                    </div>
                    <h3 class="text-2xl font-bold mb-2">üéÅ Arma tu Combo</h3>
                    <p class="text-lg mb-4">¬°Selecciona cualquier plan y recibe un mes extra GRATIS!</p>
                    <div class="flex items-center justify-center space-x-2">
                        <input type="checkbox" id="comboToggle" class="w-5 h-5 text-white">
                        <label for="comboToggle" class="text-lg font-semibold cursor-pointer">
                            Activar combo (+1 mes gratis)
                        </label>
                    </div>
                </div>
            </div>

            <!-- Courses Section -->
            <div class="glass-card rounded-3xl p-8 mb-8">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-white mb-2">üéì Cursos Digitales</h2>
                    <p class="text-white/80">Aprende desde lo b√°sico hasta convertirte en un experto</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Basic Course -->
                    <div class="course-card bg-white rounded-2xl p-8 text-center" data-course="basic" data-price="1">
                        <div class="text-6xl mb-6">üå±</div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">Curso B√°sico</h3>
                        <div class="text-4xl font-bold text-green-600 mb-4">$1</div>
                        <ul class="text-left text-gray-600 space-y-2 mb-6">
                            <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Fundamentos de dise√±o</li>
                            <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Herramientas b√°sicas</li>
                            <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Plantillas esenciales</li>
                            <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> 2 horas de contenido</li>
                        </ul>
                        <div class="bg-green-100 text-green-800 text-sm font-semibold px-4 py-2 rounded-full">
                            Perfecto para empezar
                        </div>
                    </div>

                    <!-- Intermediate Course -->
                    <div class="course-card bg-white rounded-2xl p-8 text-center" data-course="intermediate" data-price="1.5">
                        <div class="text-6xl mb-6">üöÄ</div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">Curso Intermedio</h3>
                        <div class="text-4xl font-bold text-blue-600 mb-4">$1.5</div>
                        <ul class="text-left text-gray-600 space-y-2 mb-6">
                            <li class="flex items-center"><span class="text-blue-500 mr-2">‚úì</span> T√©cnicas avanzadas</li>
                            <li class="flex items-center"><span class="text-blue-500 mr-2">‚úì</span> Animaciones b√°sicas</li>
                            <li class="flex items-center"><span class="text-blue-500 mr-2">‚úì</span> Branding personal</li>
                            <li class="flex items-center"><span class="text-blue-500 mr-2">‚úì</span> 4 horas de contenido</li>
                        </ul>
                        <div class="bg-blue-100 text-blue-800 text-sm font-semibold px-4 py-2 rounded-full">
                            Lleva tus skills al siguiente nivel
                        </div>
                    </div>

                    <!-- Advanced Course -->
                    <div class="course-card bg-white rounded-2xl p-8 text-center" data-course="advanced" data-price="2">
                        <div class="text-6xl mb-6">üëë</div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">Curso Completo</h3>
                        <div class="text-4xl font-bold text-purple-600 mb-4">$2</div>
                        <ul class="text-left text-gray-600 space-y-2 mb-6">
                            <li class="flex items-center"><span class="text-purple-500 mr-2">‚úì</span> Dominio completo</li>
                            <li class="flex items-center"><span class="text-purple-500 mr-2">‚úì</span> Animaciones avanzadas</li>
                            <li class="flex items-center"><span class="text-purple-500 mr-2">‚úì</span> Estrategias profesionales</li>
                            <li class="flex items-center"><span class="text-purple-500 mr-2">‚úì</span> 8 horas de contenido</li>
                        </ul>
                        <div class="bg-purple-100 text-purple-800 text-sm font-semibold px-4 py-2 rounded-full">
                            Convi√©rtete en un experto
                        </div>
                    </div>
                </div>
            </div>

            <!-- Summary Section -->
            <div class="glass-card rounded-3xl p-8">
                <div class="grid md:grid-cols-2 gap-8">
                    <!-- Order Summary -->
                    <div>
                        <h3 class="text-2xl font-bold text-white mb-6">üìã Resumen de tu Pedido</h3>
                        
                        <!-- Customer Information -->
                        <div class="bg-white rounded-2xl p-6 mb-6">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">üë§ Informaci√≥n del Cliente</h4>
                            <div class="space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Nombre *</label>
                                        <input type="text" id="customerName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Tu nombre" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Apellido *</label>
                                        <input type="text" id="customerLastName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Tu apellido" required>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Correo para activaci√≥n del servicio *</label>
                                    <input type="email" id="canvaEmail" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="correo@canva.com" required>
                                    <p class="text-xs text-gray-500 mt-1">Este correo debe estar asociado a tu cuenta de Canva</p>
                                </div>
                                
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de cuenta *</label>
                                    <div class="grid grid-cols-2 gap-3">
                                        <button type="button" id="newAccountBtn" class="account-type-btn active border-2 border-blue-500 bg-blue-50 text-blue-700 p-3 rounded-lg text-center font-medium transition-all" data-type="new">
                                            <div class="text-2xl mb-1">‚ú®</div>
                                            <div class="text-sm">Cuenta Nueva</div>
                                        </button>
                                        <button type="button" id="renewalAccountBtn" class="account-type-btn border-2 border-gray-200 text-gray-700 p-3 rounded-lg text-center font-medium hover:border-gray-300 transition-all" data-type="renewal">
                                            <div class="text-2xl mb-1">üîÑ</div>
                                            <div class="text-sm">Renovaci√≥n</div>
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="teamNameSection" class="hidden">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Nombre del equipo de Canva *</label>
                                    <input type="text" id="teamName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nombre de tu equipo actual en Canva">
                                    <p class="text-xs text-gray-500 mt-1">Necesario para identificar tu cuenta existente y procesar la renovaci√≥n</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-2xl p-6 space-y-4">
                            <div id="selectedPlan" class="hidden">
                                <div class="flex justify-between items-center py-3 border-b border-gray-100">
                                    <div>
                                        <span class="font-semibold text-gray-800" id="planName">Plan seleccionado</span>
                                        <div class="text-sm text-gray-500" id="planDetails">Detalles del plan</div>
                                    </div>
                                    <span class="font-bold text-purple-600" id="planPrice">$0</span>
                                </div>
                            </div>
                            
                            <div id="selectedCourse" class="hidden">
                                <div class="flex justify-between items-center py-3 border-b border-gray-100">
                                    <div>
                                        <span class="font-semibold text-gray-800" id="courseName">Curso seleccionado</span>
                                        <div class="text-sm text-gray-500">Acceso completo al curso</div>
                                    </div>
                                    <span class="font-bold text-blue-600" id="coursePrice">$0</span>
                                </div>
                            </div>
                            
                            <div id="comboBonus" class="hidden bg-gradient-to-r from-orange-50 to-pink-50 p-3 rounded-lg border border-orange-200">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <span class="font-semibold text-orange-800">üéÅ Bonus Combo</span>
                                        <div class="text-sm text-orange-600" id="bonusDetails">+1 mes gratis</div>
                                    </div>
                                    <span class="font-bold text-orange-600">GRATIS</span>
                                </div>
                            </div>
                            
                            <div class="pt-4 border-t-2 border-gray-200">
                                <div class="flex justify-between items-center">
                                    <span class="text-2xl font-bold text-gray-800">Total</span>
                                    <span class="text-4xl font-bold price-display" id="totalPrice">$0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="space-y-6">
                        <h3 class="text-2xl font-bold text-white mb-6">üõí Finalizar Compra</h3>
                        
                        <div class="space-y-4">
                            <button id="generateOrder" class="w-full bg-gradient-to-r from-green-500 to-blue-600 text-white font-bold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                                üí≥ Proceder al Pago
                            </button>
                            
                            <button id="processPayment" class="hidden w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
                                üöÄ Confirmar y Pagar
                            </button>
                            
                            <button id="requestAccount" class="hidden w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
                                üìß Solicitar tu Cuenta Aqu√≠
                            </button>
                            
                            <button id="resetCalculator" class="w-full bg-white text-gray-700 font-semibold py-3 px-6 rounded-2xl border-2 border-gray-200 hover:bg-gray-50 transition-all duration-300">
                                üîÑ Reiniciar Selecci√≥n
                            </button>
                        </div>

                        <!-- Payment Form -->
                        <div id="paymentForm" class="hidden bg-white rounded-2xl p-6 border border-gray-200">
                            <h4 class="text-lg font-semibold text-gray-800 mb-4">üí≥ Informaci√≥n de Pago</h4>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">M√©todo de Pago</label>
                                    <div class="grid grid-cols-3 gap-2">
                                        <button class="payment-method active border-2 border-blue-500 bg-blue-50 p-3 rounded-lg text-center" data-method="paypal">
                                            <div class="text-2xl mb-1">üíô</div>
                                            <div class="text-xs font-semibold">PayPal</div>
                                        </button>
                                        <button class="payment-method border-2 border-gray-200 p-3 rounded-lg text-center hover:border-gray-300" data-method="mobile">
                                            <div class="text-2xl mb-1">üì±</div>
                                            <div class="text-xs font-semibold">Pago M√≥vil</div>
                                        </button>
                                        <button class="payment-method border-2 border-gray-200 p-3 rounded-lg text-center hover:border-gray-300" data-method="crypto">
                                            <div class="text-2xl mb-1">‚Çø</div>
                                            <div class="text-xs font-semibold">Binance</div>
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Payment Details Section -->
                                <div id="paymentDetails" class="space-y-4">
                                    <!-- PayPal Details -->
                                    <div id="paypalDetails" class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                                        <h5 class="font-semibold text-blue-800 mb-2">üíô Datos para PayPal</h5>
                                        <div class="text-blue-700">
                                            <p class="font-medium">Correo PayPal: palmerita83@gmail.com</p>
                                            <p class="text-sm mt-1">Env√≠a el pago y proporciona los datos de confirmaci√≥n abajo</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Mobile Payment Details -->
                                    <div id="mobileDetails" class="hidden bg-green-50 p-4 rounded-lg border border-green-200">
                                        <h5 class="font-semibold text-green-800 mb-3">üì± Datos del Pago M√≥vil</h5>
                                        <div class="text-green-700 space-y-1">
                                            <p><strong>Tlfno:</strong> 0414-489-52-81</p>
                                            <p><strong>C√©dula:</strong> 16.113.624</p>
                                            <p><strong>Banco:</strong> Venezuela (0102)</p>
                                        </div>
                                        <div class="mt-4 pt-3 border-t border-green-300">
                                            <h6 class="font-semibold text-green-800 mb-2">üè¶ Datos para Transferencia</h6>
                                            <div class="text-green-700 space-y-1">
                                                <p><strong>Eliu Flores</strong></p>
                                                <p><strong>CI:</strong> 16.113.624</p>
                                                <p><strong>Email:</strong> Programasycursosdigitalesmx@gmail.com</p>
                                                <p><strong>Banco de Venezuela</strong></p>
                                                <p><strong>Cuenta corriente Nro:</strong> 8616</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Binance Details -->
                                    <div id="binanceDetails" class="hidden bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                                        <h5 class="font-semibold text-yellow-800 mb-2">‚Çø Datos para Binance</h5>
                                        <div class="text-yellow-700">
                                            <p class="font-medium">Usuario Binance: Eliuf83</p>
                                            <p class="text-sm mt-1">Realiza la transferencia y proporciona los datos de confirmaci√≥n abajo</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Payment Confirmation Form -->
                                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                        <h5 class="font-semibold text-gray-800 mb-3">üìã Datos de Confirmaci√≥n del Pago</h5>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-1">Nombre completo del pagador *</label>
                                                <input type="text" id="payerName" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nombre y apellido" required>
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-1">M√©todo utilizado *</label>
                                                <select id="paymentMethodUsed" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                                    <option value="">Seleccionar m√©todo</option>
                                                    <option value="paypal">PayPal</option>
                                                    <option value="pago_movil">Pago M√≥vil</option>
                                                    <option value="transferencia">Transferencia Bancaria</option>
                                                    <option value="binance">Binance</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-1">N√∫mero de referencia *</label>
                                                <input type="text" id="referenceNumber" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="N√∫mero de referencia" required>
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-1">Monto pagado *</label>
                                                <input type="number" step="0.01" id="paidAmount" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="0.00" required>
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-1">Fecha del pago *</label>
                                                <input type="date" id="paymentDate" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-gray-700 mb-1">Capture del pago *</label>
                                                <input type="file" id="paymentCapture" accept="image/*" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                                <p class="text-xs text-gray-500 mt-1">Sube una imagen del comprobante de pago</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <div class="flex justify-between items-center text-sm text-gray-600 mb-2">
                                        <span>Subtotal:</span>
                                        <span id="paymentSubtotal">$0</span>
                                    </div>
                                    <div class="flex justify-between items-center text-lg font-bold text-gray-800">
                                        <span>Total a pagar:</span>
                                        <span id="paymentTotal">$0</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Order Details -->
                        <div id="orderDetails" class="hidden bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-6 border border-green-200">
                            <h4 class="text-lg font-semibold text-green-800 mb-3">‚úÖ Detalles de tu Compra</h4>
                            <div id="orderContent" class="text-sm text-green-700 space-y-2"></div>
                        </div>
                        
                        <!-- Payment Success -->
                        <div id="paymentSuccess" class="hidden bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200">
                            <div class="text-center">
                                <div class="text-6xl mb-4">üéâ</div>
                                <h4 class="text-2xl font-bold text-green-800 mb-2">¬°Pago Exitoso!</h4>
                                <p class="text-green-700 mb-4">Tu compra se ha procesado correctamente</p>
                                <div id="accessInfo" class="bg-white p-4 rounded-lg text-left text-sm text-gray-700"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State management
        let state = {
            selectedPlan: null,
            selectedCourse: null,
            comboActive: false,
            planPrice: 0,
            coursePrice: 0,
            planMonths: 0,
            paymentMethod: 'paypal',
            customerEmail: '',
            customerName: '',
            customerLastName: '',
            canvaEmail: '',
            accountType: 'new',
            teamName: '',
            payerName: '',
            paymentMethodUsed: '',
            referenceNumber: '',
            paidAmount: '',
            paymentDate: '',
            paymentCapture: null
        };

        // Plan data
        const plans = {
            '1month': { name: 'Plan Mensual', months: 1, price: 1 },
            '3months': { name: 'Plan Trimestral', months: 3, price: 2 },
            '6months': { name: 'Plan Semestral', months: 6, price: 3.5 },
            '1year': { name: 'Plan Anual', months: 12, price: 5 }
        };

        const courses = {
            'basic': { name: 'Curso B√°sico', price: 1 },
            'intermediate': { name: 'Curso Intermedio', price: 1.5 },
            'advanced': { name: 'Curso Completo', price: 2 }
        };

        // Initialize event listeners
        function initializeEventListeners() {
            // Plan selection
            document.querySelectorAll('.plan-card').forEach(card => {
                card.addEventListener('click', () => {
                    const planType = card.dataset.plan;
                    selectPlan(planType);
                });
            });

            // Course selection
            document.querySelectorAll('.course-card').forEach(card => {
                card.addEventListener('click', () => {
                    const courseType = card.dataset.course;
                    selectCourse(courseType);
                });
            });

            // Combo toggle
            document.getElementById('comboToggle').addEventListener('change', (e) => {
                state.comboActive = e.target.checked;
                updateSummary();
            });

            // Action buttons
            document.getElementById('generateOrder').addEventListener('click', generateOrder);
            document.getElementById('processPayment').addEventListener('click', processPayment);
            document.getElementById('requestAccount').addEventListener('click', requestAccount);
            document.getElementById('resetCalculator').addEventListener('click', resetCalculator);
            
            // Payment method selection
            document.querySelectorAll('.payment-method').forEach(button => {
                button.addEventListener('click', () => {
                    const method = button.dataset.method;
                    selectPaymentMethod(method);
                });
            });
            
            // Email input
            document.getElementById('customerEmail').addEventListener('input', (e) => {
                state.customerEmail = e.target.value;
            });
            
            // Customer information inputs
            document.getElementById('customerName').addEventListener('input', (e) => {
                state.customerName = e.target.value;
                updateSummary();
            });
            
            document.getElementById('customerLastName').addEventListener('input', (e) => {
                state.customerLastName = e.target.value;
                updateSummary();
            });
            
            document.getElementById('canvaEmail').addEventListener('input', (e) => {
                state.canvaEmail = e.target.value;
                updateSummary();
            });
            
            document.getElementById('teamName').addEventListener('input', (e) => {
                state.teamName = e.target.value;
                updateSummary();
            });
            
            // Account type selection
            document.getElementById('newAccountBtn').addEventListener('click', () => {
                selectAccountType('new');
            });
            
            document.getElementById('renewalAccountBtn').addEventListener('click', () => {
                selectAccountType('renewal');
            });
            
            // Payment confirmation inputs
            document.getElementById('payerName').addEventListener('input', (e) => {
                state.payerName = e.target.value;
            });
            
            document.getElementById('paymentMethodUsed').addEventListener('change', (e) => {
                state.paymentMethodUsed = e.target.value;
            });
            
            document.getElementById('referenceNumber').addEventListener('input', (e) => {
                state.referenceNumber = e.target.value;
            });
            
            document.getElementById('paidAmount').addEventListener('input', (e) => {
                state.paidAmount = e.target.value;
            });
            
            document.getElementById('paymentDate').addEventListener('change', (e) => {
                state.paymentDate = e.target.value;
            });
            
            document.getElementById('paymentCapture').addEventListener('change', (e) => {
                state.paymentCapture = e.target.files[0];
            });
        }

        // Select plan
        function selectPlan(planType) {
            // Remove previous selection
            document.querySelectorAll('.plan-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selection to clicked card
            document.querySelector(`[data-plan="${planType}"]`).classList.add('selected');

            // Update state
            state.selectedPlan = planType;
            state.planPrice = plans[planType].price;
            state.planMonths = plans[planType].months;

            updateSummary();
        }

        // Select course
        function selectCourse(courseType) {
            // Remove previous selection
            document.querySelectorAll('.course-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selection to clicked card
            document.querySelector(`[data-course="${courseType}"]`).classList.add('selected');

            // Update state
            state.selectedCourse = courseType;
            state.coursePrice = courses[courseType].price;

            updateSummary();
        }
        
        // Select account type
        function selectAccountType(type) {
            // Remove previous selection
            document.querySelectorAll('.account-type-btn').forEach(button => {
                button.classList.remove('active', 'border-blue-500', 'bg-blue-50', 'text-blue-700');
                button.classList.add('border-gray-200', 'text-gray-700');
            });

            // Add selection to clicked type
            const selectedButton = document.getElementById(type === 'new' ? 'newAccountBtn' : 'renewalAccountBtn');
            selectedButton.classList.add('active', 'border-blue-500', 'bg-blue-50', 'text-blue-700');
            selectedButton.classList.remove('border-gray-200', 'text-gray-700');

            // Show/hide team name section
            const teamNameSection = document.getElementById('teamNameSection');
            if (type === 'renewal') {
                teamNameSection.classList.remove('hidden');
            } else {
                teamNameSection.classList.add('hidden');
                state.teamName = '';
                document.getElementById('teamName').value = '';
            }

            // Update state
            state.accountType = type;
        }
        
        // Select payment method
        function selectPaymentMethod(method) {
            // Remove previous selection
            document.querySelectorAll('.payment-method').forEach(button => {
                button.classList.remove('active');
                button.classList.add('border-gray-200');
                button.classList.remove('border-blue-500', 'bg-blue-50');
            });

            // Add selection to clicked method
            const selectedButton = document.querySelector(`[data-method="${method}"]`);
            selectedButton.classList.add('active');
            selectedButton.classList.remove('border-gray-200');
            selectedButton.classList.add('border-blue-500', 'bg-blue-50');

            // Show/hide payment details based on method
            document.getElementById('paypalDetails').classList.add('hidden');
            document.getElementById('mobileDetails').classList.add('hidden');
            document.getElementById('binanceDetails').classList.add('hidden');
            
            if (method === 'paypal') {
                document.getElementById('paypalDetails').classList.remove('hidden');
            } else if (method === 'mobile') {
                document.getElementById('mobileDetails').classList.remove('hidden');
            } else if (method === 'crypto') {
                document.getElementById('binanceDetails').classList.remove('hidden');
            }

            // Update state
            state.paymentMethod = method;
        }

        // Update summary
        function updateSummary() {
            const selectedPlanDiv = document.getElementById('selectedPlan');
            const selectedCourseDiv = document.getElementById('selectedCourse');
            const comboBonusDiv = document.getElementById('comboBonus');
            const generateButton = document.getElementById('generateOrder');

            // Update plan display
            if (state.selectedPlan) {
                selectedPlanDiv.classList.remove('hidden');
                document.getElementById('planName').textContent = plans[state.selectedPlan].name;
                
                let planDetails = `${state.planMonths} ${state.planMonths === 1 ? 'mes' : 'meses'} de acceso`;
                if (state.comboActive) {
                    planDetails += ` + 1 mes gratis = ${state.planMonths + 1} ${state.planMonths + 1 === 1 ? 'mes' : 'meses'} total`;
                }
                document.getElementById('planDetails').textContent = planDetails;
                document.getElementById('planPrice').textContent = `$${state.planPrice}`;
            } else {
                selectedPlanDiv.classList.add('hidden');
            }

            // Update course display
            if (state.selectedCourse) {
                selectedCourseDiv.classList.remove('hidden');
                document.getElementById('courseName').textContent = courses[state.selectedCourse].name;
                document.getElementById('coursePrice').textContent = `$${state.coursePrice}`;
            } else {
                selectedCourseDiv.classList.add('hidden');
            }

            // Update combo bonus
            if (state.comboActive && state.selectedPlan) {
                comboBonusDiv.classList.remove('hidden');
                document.getElementById('bonusDetails').textContent = `+1 mes gratis en tu ${plans[state.selectedPlan].name}`;
            } else {
                comboBonusDiv.classList.add('hidden');
            }

            // Update total
            const total = state.planPrice + state.coursePrice;
            document.getElementById('totalPrice').textContent = `$${total}`;

            // Enable/disable generate button based on selections and required customer info
            const hasSelection = state.selectedPlan || state.selectedCourse;
            const customerName = document.getElementById('customerName').value.trim();
            const customerLastName = document.getElementById('customerLastName').value.trim();
            const canvaEmail = document.getElementById('canvaEmail').value.trim();
            const teamName = document.getElementById('teamName').value.trim();
            
            const hasRequiredInfo = customerName && customerLastName && canvaEmail;
            const hasTeamNameIfNeeded = state.accountType === 'new' || (state.accountType === 'renewal' && teamName);
            
            if (hasSelection && hasRequiredInfo && hasTeamNameIfNeeded) {
                generateButton.disabled = false;
            } else {
                generateButton.disabled = true;
            }
        }

        // Generate order
        function generateOrder() {
            let orderContent = '<div class="font-semibold mb-3">üõçÔ∏è Tu Pedido:</div>';
            
            if (state.selectedPlan) {
                let planText = `‚Ä¢ ${plans[state.selectedPlan].name}: $${state.planPrice}`;
                if (state.comboActive) {
                    planText += ` (incluye +1 mes gratis)`;
                }
                orderContent += `<div>${planText}</div>`;
            }
            
            if (state.selectedCourse) {
                orderContent += `<div>‚Ä¢ ${courses[state.selectedCourse].name}: $${state.coursePrice}</div>`;
            }
            
            const total = state.planPrice + state.coursePrice;
            orderContent += `<div class="font-bold mt-3 text-lg">üí∞ Total a pagar: $${total}</div>`;
            orderContent += `<div class="text-xs mt-3 text-green-600">‚úÖ Acceso inmediato despu√©s del pago</div>`;

            document.getElementById('orderContent').innerHTML = orderContent;
            document.getElementById('orderDetails').classList.remove('hidden');
            
            // Show payment form and update totals
            document.getElementById('paymentForm').classList.remove('hidden');
            document.getElementById('paymentSubtotal').textContent = `$${total}`;
            document.getElementById('paymentTotal').textContent = `$${total}`;
            
            // Show confirm payment button and hide generate order button
            document.getElementById('generateOrder').classList.add('hidden');
            document.getElementById('processPayment').classList.remove('hidden');
        }

        // Send data to Google Sheets
        async function sendToGoogleSheets(data) {
            try {
                // URL de tu Google Apps Script configurada
                const scriptURL = 'https://script.google.com/macros/s/AKfycbxlbUriP0YrkvEqBaa9RCTLcxsI_ENZjjg4Kws_NFZlxdpZ_kecz5Gf3v2EEuA_gZ7b-g/exec';
                
                const response = await fetch(scriptURL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                console.log('Datos enviados a Google Sheets');
                return true;
            } catch (error) {
                console.error('Error enviando datos a Google Sheets:', error);
                return false;
            }
        }

        // Send WhatsApp notification
        async function sendWhatsAppNotification(message, type = 'venta') {
            try {
                // N√∫mero de tel√©fono para notificaciones
                const phoneNumber = '584167289788';
                
                // Crear enlace de WhatsApp con el mensaje
                const encodedMessage = encodeURIComponent(message);
                const whatsappLink = `https://api.whatsapp.com/send?phone=${phoneNumber}&text=${encodedMessage}`;
                
                // Abrir WhatsApp en una nueva ventana
                window.open(whatsappLink, '_blank');
                
                return true;
            } catch (error) {
                console.error('Error enviando notificaci√≥n WhatsApp:', error);
                return false;
            }
        }

        // Process payment
        function processPayment() {
            // Validate payment confirmation fields
            const payerName = document.getElementById('payerName').value.trim();
            const paymentMethodUsed = document.getElementById('paymentMethodUsed').value;
            const referenceNumber = document.getElementById('referenceNumber').value.trim();
            const paidAmount = document.getElementById('paidAmount').value.trim();
            const paymentDate = document.getElementById('paymentDate').value;
            const paymentCapture = document.getElementById('paymentCapture').files[0];
            
            if (!payerName) {
                alert('Por favor ingresa el nombre completo del pagador');
                return;
            }
            
            if (!paymentMethodUsed) {
                alert('Por favor selecciona el m√©todo de pago utilizado');
                return;
            }
            
            if (!referenceNumber) {
                alert('Por favor ingresa el n√∫mero de referencia del pago');
                return;
            }
            
            if (!paidAmount) {
                alert('Por favor ingresa el monto pagado');
                return;
            }
            
            if (!paymentDate) {
                alert('Por favor selecciona la fecha del pago');
                return;
            }
            
            if (!paymentCapture) {
                alert('Por favor sube el capture del comprobante de pago');
                return;
            }
            
            // Update state with current values
            state.payerName = payerName;
            state.paymentMethodUsed = paymentMethodUsed;
            state.referenceNumber = referenceNumber;
            state.paidAmount = paidAmount;
            state.paymentDate = paymentDate;
            state.paymentCapture = paymentCapture;
            
            // Show processing animation
            const paymentButton = document.getElementById('processPayment');
            paymentButton.classList.add('payment-processing');
            paymentButton.textContent = '‚è≥ Procesando pago...';
            paymentButton.disabled = true;
            
            // Prepare data for Google Sheets
            const customerName = document.getElementById('customerName').value.trim();
            const customerLastName = document.getElementById('customerLastName').value.trim();
            const canvaEmail = document.getElementById('canvaEmail').value.trim();
            const teamName = document.getElementById('teamName').value.trim();
            
            const sheetData = {
                timestamp: new Date().toISOString(),
                customerName: customerName,
                customerLastName: customerLastName,
                canvaEmail: canvaEmail,
                accountType: state.accountType,
                teamName: teamName,
                selectedPlan: state.selectedPlan ? plans[state.selectedPlan].name : '',
                planMonths: state.planMonths,
                planPrice: state.planPrice,
                selectedCourse: state.selectedCourse ? courses[state.selectedCourse].name : '',
                coursePrice: state.coursePrice,
                comboActive: state.comboActive,
                totalAmount: state.planPrice + state.coursePrice,
                payerName: payerName,
                paymentMethod: paymentMethodUsed,
                referenceNumber: referenceNumber,
                paidAmount: paidAmount,
                paymentDate: paymentDate,
                paymentCaptureName: paymentCapture ? paymentCapture.name : '',
                status: 'Pendiente de verificaci√≥n'
            };
            
            // Prepare WhatsApp message
            const total = state.planPrice + state.coursePrice;
            let whatsappMessage = `üéâ *NUEVA VENTA CONFIRMADA* üéâ\n\n`;
            whatsappMessage += `üë§ *CLIENTE:*\n`;
            whatsappMessage += `‚Ä¢ Nombre: ${customerName} ${customerLastName}\n`;
            whatsappMessage += `‚Ä¢ Email Canva: ${canvaEmail}\n`;
            whatsappMessage += `‚Ä¢ Tipo cuenta: ${state.accountType === 'new' ? 'Nueva ‚ú®' : 'Renovaci√≥n üîÑ'}\n`;
            if (state.accountType === 'renewal' && state.teamName) {
                whatsappMessage += `‚Ä¢ Equipo actual: ${state.teamName}\n`;
            }
            whatsappMessage += `\nüì¶ *SERVICIOS COMPRADOS:*\n`;
            
            if (state.selectedPlan) {
                let planText = `‚Ä¢ ${plans[state.selectedPlan].name} ($${state.planPrice})`;
                if (state.comboActive) {
                    planText += ` + 1 MES GRATIS üéÅ`;
                }
                whatsappMessage += `${planText}\n`;
            }
            
            if (state.selectedCourse) {
                whatsappMessage += `‚Ä¢ ${courses[state.selectedCourse].name} ($${state.coursePrice})\n`;
            }
            
            whatsappMessage += `\nüí∞ *PAGO RECIBIDO:*\n`;
            whatsappMessage += `‚Ä¢ Total: $${total}\n`;
            whatsappMessage += `‚Ä¢ M√©todo: ${getPaymentMethodUsedName()}\n`;
            whatsappMessage += `‚Ä¢ Referencia: ${referenceNumber}\n`;
            whatsappMessage += `‚Ä¢ Monto pagado: $${paidAmount}\n`;
            whatsappMessage += `‚Ä¢ Fecha: ${paymentDate}\n`;
            whatsappMessage += `‚Ä¢ Pagador: ${payerName}\n\n`;
            whatsappMessage += `‚ö° *ACCI√ìN REQUERIDA:*\n`;
            whatsappMessage += `1. Verificar el pago\n`;
            whatsappMessage += `2. Activar servicios\n`;
            whatsappMessage += `3. Contactar cliente para entrega`;
            
            // Send data to Google Sheets and WhatsApp
            Promise.all([
                sendToGoogleSheets(sheetData),
                sendWhatsAppNotification(whatsappMessage, 'venta')
            ]).then(() => {
                // Simulate payment processing
                setTimeout(() => {
                    showPaymentSuccess();
                }, 2000);
            }).catch((error) => {
                console.error('Error en el procesamiento:', error);
                // Continue with payment success even if integrations fail
                setTimeout(() => {
                    showPaymentSuccess();
                }, 2000);
            });
        }
        
        // Request account function
        function requestAccount() {
            const customerName = document.getElementById('customerName').value.trim();
            const customerLastName = document.getElementById('customerLastName').value.trim();
            const canvaEmail = document.getElementById('canvaEmail').value.trim();
            
            // Prepare WhatsApp message for account delivery
            let deliveryMessage = `üìß *SOLICITUD DE ENTREGA* üìß\n\n`;
            deliveryMessage += `üë§ *CLIENTE ESPERANDO:*\n`;
            deliveryMessage += `‚Ä¢ Nombre: ${customerName} ${customerLastName}\n`;
            deliveryMessage += `‚Ä¢ Email Canva: ${canvaEmail}\n`;
            deliveryMessage += `‚Ä¢ Tipo cuenta: ${state.accountType === 'new' ? 'Nueva ‚ú®' : 'Renovaci√≥n üîÑ'}\n`;
            if (state.accountType === 'renewal' && state.teamName) {
                deliveryMessage += `‚Ä¢ Equipo actual: ${state.teamName}\n`;
            }
            deliveryMessage += `\nüì¶ *SERVICIOS A ENTREGAR:*\n`;
            
            if (state.selectedPlan) {
                let planText = `‚Ä¢ ${plans[state.selectedPlan].name}`;
                if (state.comboActive) {
                    planText += ` + 1 MES GRATIS üéÅ`;
                }
                deliveryMessage += `${planText}\n`;
            }
            
            if (state.selectedCourse) {
                deliveryMessage += `‚Ä¢ ${courses[state.selectedCourse].name}\n`;
            }
            
            deliveryMessage += `\nüöÄ *CLIENTE LISTO PARA RECIBIR SU CUENTA*\n`;
            deliveryMessage += `Por favor proceder con la entrega lo antes posible.`;
            
            // Send WhatsApp notification for delivery
            sendWhatsAppNotification(deliveryMessage, 'entrega');
            
            // Show confirmation
            alert('‚úÖ Solicitud enviada correctamente. Te contactaremos pronto para entregar tu cuenta.');
        }
        
        // Show payment success
        function showPaymentSuccess() {
            const total = state.planPrice + state.coursePrice;
            let accessContent = '<div class="font-semibold mb-3">üéâ ¬°Pago recibido y en proceso de verificaci√≥n!</div>';
            
            accessContent += '<div class="bg-green-50 p-3 rounded-lg mb-3">';
            accessContent += '<div class="font-semibold text-green-800 mb-2">üë§ Informaci√≥n del Cliente:</div>';
            accessContent += `<div class="text-green-700 text-sm space-y-1">`;
            accessContent += `<div><strong>Cliente:</strong> ${state.customerName} ${state.customerLastName}</div>`;
            accessContent += `<div><strong>Email Canva:</strong> ${state.canvaEmail}</div>`;
            accessContent += `<div><strong>Tipo de cuenta:</strong> ${state.accountType === 'new' ? 'Cuenta Nueva' : 'Renovaci√≥n'}</div>`;
            if (state.accountType === 'renewal' && state.teamName) {
                accessContent += `<div><strong>Equipo Canva:</strong> ${state.teamName}</div>`;
            }
            accessContent += `</div></div>`;
            
            accessContent += '<div class="bg-blue-50 p-3 rounded-lg mb-3">';
            accessContent += '<div class="font-semibold text-blue-800 mb-2">üí≥ Datos del Pago Recibido:</div>';
            accessContent += `<div class="text-blue-700 text-sm space-y-1">`;
            accessContent += `<div><strong>Pagador:</strong> ${state.payerName}</div>`;
            accessContent += `<div><strong>M√©todo utilizado:</strong> ${getPaymentMethodUsedName()}</div>`;
            accessContent += `<div><strong>Referencia:</strong> ${state.referenceNumber}</div>`;
            accessContent += `<div><strong>Monto:</strong> $${state.paidAmount}</div>`;
            accessContent += `<div><strong>Fecha:</strong> ${state.paymentDate}</div>`;
            accessContent += `<div><strong>Comprobante:</strong> ${state.paymentCapture ? state.paymentCapture.name : 'Archivo subido'}</div>`;
            accessContent += `</div></div>`;
            
            accessContent += '<div class="bg-purple-50 p-3 rounded-lg mb-3">';
            accessContent += '<div class="font-semibold text-purple-800 mb-2">üì¶ Servicios Adquiridos:</div>';
            accessContent += `<div class="text-purple-700 text-sm space-y-1">`;
            
            if (state.selectedPlan) {
                let planAccess = `‚Ä¢ ${plans[state.selectedPlan].name}: ${state.planMonths} ${state.planMonths === 1 ? 'mes' : 'meses'}`;
                if (state.comboActive) {
                    planAccess += ` + 1 mes gratis = ${state.planMonths + 1} meses total`;
                }
                accessContent += `<div>${planAccess}</div>`;
            }
            
            if (state.selectedCourse) {
                accessContent += `<div>‚Ä¢ ${courses[state.selectedCourse].name} - Acceso de por vida</div>`;
            }
            
            accessContent += `<div class="font-semibold mt-2">Total: $${total}</div>`;
            accessContent += `</div></div>`;
            
            accessContent += '<div class="bg-yellow-50 p-3 rounded-lg border border-yellow-200">';
            accessContent += '<div class="text-yellow-800 text-sm">';
            accessContent += '<div class="font-semibold mb-1">‚è≥ Pr√≥ximos pasos:</div>';
            accessContent += '<div>1. Verificaremos tu pago en las pr√≥ximas 2-4 horas</div>';
            accessContent += '<div>2. Te enviaremos la confirmaci√≥n por email</div>';
            accessContent += '<div>3. Activaremos tu servicio de Canva</div>';
            accessContent += '<div>4. Te daremos acceso a los cursos seleccionados</div>';
            accessContent += '</div></div>';
            
            document.getElementById('accessInfo').innerHTML = accessContent;
            document.getElementById('paymentSuccess').classList.remove('hidden');
            
            // Show request account button
            document.getElementById('requestAccount').classList.remove('hidden');
            
            // Hide other sections
            document.getElementById('paymentForm').classList.add('hidden');
            document.getElementById('orderDetails').classList.add('hidden');
            document.getElementById('processPayment').classList.add('hidden');
        }
        
        // Get payment method name
        function getPaymentMethodName() {
            const methods = {
                'paypal': 'PayPal',
                'mobile': 'Pago M√≥vil',
                'crypto': 'Binance'
            };
            return methods[state.paymentMethod] || 'PayPal';
        }
        
        // Get payment method used name
        function getPaymentMethodUsedName() {
            const methods = {
                'paypal': 'PayPal',
                'pago_movil': 'Pago M√≥vil',
                'transferencia': 'Transferencia Bancaria',
                'binance': 'Binance'
            };
            return methods[state.paymentMethodUsed] || state.paymentMethodUsed;
        }

        // Reset calculator
        function resetCalculator() {
            // Reset state
            state = {
                selectedPlan: null,
                selectedCourse: null,
                comboActive: false,
                planPrice: 0,
                coursePrice: 0,
                planMonths: 0,
                paymentMethod: 'paypal',
                customerEmail: '',
                customerName: '',
                customerLastName: '',
                canvaEmail: '',
                accountType: 'new',
                teamName: '',
                payerName: '',
                paymentMethodUsed: '',
                referenceNumber: '',
                paidAmount: '',
                paymentDate: '',
                paymentCapture: null
            };

            // Reset UI
            document.querySelectorAll('.plan-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            document.querySelectorAll('.course-card').forEach(card => {
                card.classList.remove('selected');
            });

            document.getElementById('comboToggle').checked = false;
            document.getElementById('customerEmail').value = '';
            document.getElementById('customerName').value = '';
            document.getElementById('customerLastName').value = '';
            document.getElementById('canvaEmail').value = '';
            document.getElementById('teamName').value = '';
            document.getElementById('payerName').value = '';
            document.getElementById('paymentMethodUsed').value = '';
            document.getElementById('referenceNumber').value = '';
            document.getElementById('paidAmount').value = '';
            document.getElementById('paymentDate').value = '';
            document.getElementById('paymentCapture').value = '';
            
            // Reset account type to new
            selectAccountType('new');
            
            // Hide all sections
            document.getElementById('orderDetails').classList.add('hidden');
            document.getElementById('paymentForm').classList.add('hidden');
            document.getElementById('paymentSuccess').classList.add('hidden');
            
            // Reset buttons
            document.getElementById('generateOrder').classList.remove('hidden');
            document.getElementById('processPayment').classList.add('hidden');
            document.getElementById('requestAccount').classList.add('hidden');
            
            const paymentButton = document.getElementById('processPayment');
            paymentButton.classList.remove('payment-processing');
            paymentButton.textContent = 'üöÄ Confirmar y Pagar';
            paymentButton.disabled = false;
            
            // Reset payment method selection
            selectPaymentMethod('paypal');

            updateSummary();
        }

        // Initialize the calculator
        initializeEventListeners();
        updateSummary();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97c4c0c59377dd78',t:'MTc1NzQwMDY0My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
